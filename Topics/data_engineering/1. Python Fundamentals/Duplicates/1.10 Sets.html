<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python Sets</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f9f9f9;
            color: #333;
            margin: 0;
            padding: 0 20px;
        }
        header {
            background-color: #306998;
            color: white;
            padding: 20px 0;
            text-align: center;
        }
        h1 {
            margin: 0;
        }
        section {
            max-width: 900px;
            margin: 40px auto;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        code {
            background-color: #eee;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: monospace;
        }
        pre {
            background: #2d2d2d;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 10px 0;
            line-height: 1.6;
        }
        .question {
            background: #e8f4f8;
            padding: 15px;
            margin: 10px 0;
            border-left: 5px solid #007bff;
        }
        .answer {
            display: none;
            background: #f1f1f1;
            padding: 10px;
            margin-top: 5px;
        }
        .toggle-answer {
            color: #007bff;
            cursor: pointer;
            text-decoration: underline;
        }
        .code-box {
            position: relative;
        }
        .code-box::before {
            content: 'Python';
            position: absolute;
            top: 0;
            right: 10px;
            color: #aaa;
            font-size: 0.8em;
        }
        .code-box code {
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <header>
        <h1>Python Sets</h1>
    </header>

    <section>
        <h2>Creating Sets</h2>
        <p>Sets are unordered collections of unique elements, created using curly braces <code>{}</code> or the <code>set()</code> constructor.</p>
        <div class="code-box">
            <pre><code class="language-python">
numbers = {1, 2, 3}
fruits = set(["apple", "banana", "apple"])
print(numbers)  # Output: {1, 2, 3}
print(fruits)   # Output: {'apple', 'banana'}
</code></pre>
        </div>

        <h2>Uniqueness Property</h2>
        <p>Sets automatically remove duplicates, ensuring each element appears only once.</p>
        <div class="code-box">
            <pre><code class="language-python">
items = {1, 1, 2, 2, 3}
print(items)  # Output: {1, 2, 3}
mixed = set([1, "hello", 1, "hello"])
print(mixed)  # Output: {1, 'hello'}
</code></pre>
        </div>

        <h2>Set Operations</h2>
        <p>Sets support operations like union, intersection, difference, and symmetric difference.</p>
        <div class="code-box">
            <pre><code class="language-python">
set1 = {1, 2, 3}
set2 = {3, 4, 5}
print(set1 | set2)  # Union: {1, 2, 3, 4, 5}
print(set1 & set2)  # Intersection: {3}
print(set1 - set2)  # Difference: {1, 2}
print(set1 ^ set2)  # Symmetric difference: {1, 2, 4, 5}
</code></pre>
        </div>

        <h2>Common Set Methods</h2>
        <p>Sets provide methods like <code>add</code>, <code>remove</code>, <code>discard</code>, and <code>pop</code> for manipulation.</p>
        <div class="code-box">
            <pre><code class="language-python">
numbers = {1, 2, 3}
numbers.add(4)        # Add element
print(numbers)        # Output: {1, 2, 3, 4}
numbers.remove(2)     # Remove element (raises KeyError if not found)
print(numbers)        # Output: {1, 3, 4}
numbers.discard(5)    # Remove if present, no error
popped = numbers.pop() # Remove and return arbitrary element
print(popped)         # Output: e.g., 1
print(numbers)        # Output: e.g., {3, 4}
</code></pre>
        </div>

        <h2>Membership Testing and Iteration</h2>
        <p>Sets are optimized for membership testing and can be iterated over.</p>
        <div class="code-box">
            <pre><code class="language-python">
fruits = {"apple", "banana", "cherry"}
print("apple" in fruits)  # Output: True
print("orange" not in fruits)  # Output: True
for fruit in fruits:
    print(fruit)
# Output: apple
#         banana
#         cherry
</code></pre>
        </div>

        <h2>Interesting Programs Using Sets</h2>
        <h3>Program 1: Duplicate Remover</h3>
        <p>This program takes a list of user inputs and removes duplicates using a set.</p>
        <div class="code-box">
            <pre><code class="language-python">
def remove_duplicates():
    user_input = input("Enter items (space-separated): ").split()
    unique_items = set(user_input)
    return list(unique_items)

result = remove_duplicates()
print("Unique items:", result)
# Example input: apple apple banana cherry
# Output: Unique items: ['apple', 'banana', 'cherry']
</code></pre>
        </div>

        <h3>Program 2: Common Elements Finder</h3>
        <p>This program finds common elements between two lists using set intersection.</p>
        <div class="code-box">
            <pre><code class="language-python">
def find_common_elements(list1, list2):
    return list(set(list1) & set(list2))

list1 = [1, 2, 3, 4]
list2 = [3, 4, 5, 6]
common = find_common_elements(list1, list2)
print("Common elements:", common)  # Output: Common elements: [3, 4]
</code></pre>
        </div>

        <h3>Program 3: Unique Word Counter</h3>
        <p>This program counts unique words in a sentence by converting it to a set.</p>
        <div class="code-box">
            <pre><code class="language-python">
def count_unique_words(sentence):
    words = sentence.lower().split()
    unique_words = set(words)
    return len(unique_words)

sentence = "The cat and the dog and cat"
count = count_unique_words(sentence)
print("Unique word count:", count)  # Output: Unique word count: 4
</code></pre>
        </div>

        <h2>Challenging Questions</h2>
        <div class="question">
            <p><strong>Question 1:</strong> What will be the output of the following code, and why?</p>
            <div class="code-box">
                <pre><code class="language-python">
set1 = {1, 2, 3, 4}
set2 = {3, 4, 5}
print(set1 - set2)
print(set2 - set1)
</code></pre>
            </div>
            <span class="toggle-answer" onclick="toggleAnswer('answer1')">Show Answer</span>
            <div id="answer1" class="answer">
                <p><strong>Answer:</strong> {1, 2}, {5}</p>
                <p><strong>Explanation:</strong> The difference <code>set1 - set2</code> returns elements in <code>set1</code> but not in <code>set2</code>, which is {1, 2}. Similarly, <code>set2 - set1</code> returns elements in <code>set2</code> but not in <code>set1</code>, which is {5}.</p>
            </div>
        </div>

        <div class="question">
            <p><strong>Question 2:</strong> Why does this code raise an error, and how can it be fixed?</p>
            <div class="code-box">
                <pre><code class="language-python">
numbers = {1, 2, 3}
numbers.remove(4)
</code></pre>
            </div>
            <span class="toggle-answer" onclick="toggleAnswer('answer2')">Show Answer</span>
            <div id="answer2" class="answer">
                <p><strong>Answer:</strong> The code raises a <code>KeyError</code> because <code>remove(4)</code> attempts to remove an element not in the set.</p>
                <p><strong>Fix:</strong> Use <code>discard</code>, which doesn’t raise an error if the element is absent.</p>
                <div class="code-box">
                    <pre><code class="language-python">
numbers = {1, 2, 3}
numbers.discard(4)  # No error
print(numbers)      # Output: {1, 2, 3}
</code></pre>
                </div>
            </div>
        </div>

        <div class="question">
            <p><strong>Question 3:</strong> What will be the output of this code, and why?</p>
            <div class="code-box">
                <pre><code class="language-python">
set1 = {1, 2, 3}
set2 = set1.copy()
set2.add(4)
print(set1)
print(set2)
</code></pre>
            </div>
            <span class="toggle-answer" onclick="toggleAnswer('answer3')">Show Answer</span>
            <div id="answer3" class="answer">
                <p><strong>Answer:</strong> {1, 2, 3}, {1, 2, 3, 4}</p>
                <p><strong>Explanation:</strong> <code>copy()</code> creates a new set with the same elements. Adding 4 to <code>set2</code> doesn’t affect <code>set1</code> because they are separate objects. Without <code>copy()</code>, <code>set2 = set1</code> would create a reference, and both would be modified.</p>
            </div>
        </div>
    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script>
        function toggleAnswer(id) {
            const answer = document.getElementById(id);
            answer.style.display = answer.style.display === 'block' ? 'none' : 'block';
        }
    </script>
</body>
</html>