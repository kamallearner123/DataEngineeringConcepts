<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python Strings and Dictionaries</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f9f9f9;
            color: #333;
            margin: 0;
            padding: 0 20px;
        }
        header {
            background-color: #306998;
            color: white;
            padding: 20px 0;
            text-align: center;
        }
        h1 {
            margin: 0;
        }
        section {
            max-width: 900px;
            margin: 40px auto;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        code {
            background-color: #eee;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: monospace;
        }
        pre {
            background: #2d2d2d;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 10px 0;
            line-height: 1.6;
        }
        .question {
            background: #e8f4f8;
            padding: 15px;
            margin: 10px 0;
            border-left: 5px solid #007bff;
        }
        .answer {
            display: none;
            background: #f1f1f1;
            padding: 10px;
            margin-top: 5px;
        }
        .toggle-answer {
            color: #007bff;
            cursor: pointer;
            text-decoration: underline;
        }
        .code-box {
            position: relative;
        }
        .code-box::before {
            content: 'Python';
            position: absolute;
            top: 0;
            right: 10px;
            color: #aaa;
            font-size: 0.8em;
        }
        .code-box code {
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <header>
        <h1>Python Strings and Dictionaries</h1>
    </header>

    <section>
        <h2>Strings: Creating Strings</h2>
        <p>Strings are created using single quotes <code>'</code>, double quotes <code>"</code>, or triple quotes <code>'''</code> for multiline strings.</p>
        <div class="code-box">
            <pre><code class="language-python">single = 'Hello'
double = "World"
multiline = '''Line 1
Line 2'''
print(single)     # Output: Hello
print(multiline)  # Output: Line 1
                  #         Line 2
</code></pre>
        </div>

        <h2>Strings: Accessing Characters via Indexing and Slicing</h2>
        <p>Strings support zero-based indexing and slicing to access characters or substrings.</p>
        <div class="code-box">
            <pre><code class="language-python">text = "Python"
print(text[0])    # Output: P
print(text[-1])   # Output: n
print(text[1:4])  # Output: yth
print(text[:3])   # Output: Pyt
</code></pre>
        </div>

        <h2>Strings: Immutability</h2>
        <p>Strings are immutable, meaning their characters cannot be changed after creation.</p>
        <div class="code-box">
            <pre><code class="language-python">text = "Python"
# text[0] = "J"  # Error: strings are immutable
new_text = "J" + text[1:]  # Create new string
print(new_text)  # Output: Jython
</code></pre>
        </div>

        <h2>Strings: Common String Methods</h2>
        <p>Strings offer methods like <code>upper</code>, <code>lower</code>, <code>strip</code>, <code>split</code>, and <code>join</code> for manipulation.</p>
        <div class="code-box">
            <pre><code class="language-python">text = "  Hello, World!  "
print(text.upper())       # Output:   HELLO, WORLD!  
print(text.strip())       # Output: Hello, World!
print(text.split(","))    # Output: ['  Hello', ' World!  ']
words = ["Python", "is", "fun"]
print(" ".join(words))    # Output: Python is fun
</code></pre>
        </div>

        <h2>Strings: String Formatting</h2>
        <p>Strings can be formatted using f-strings, the <code>format()</code> method, or the <code>%</code> operator.</p>
        <div class="code-box">
            <pre><code class="language-python">name = "Alice"
age = 25
print(f"{name} is {age}")           # f-string: Alice is 25
print("{} is {}".format(name, age)) # format(): Alice is 25
print("%s is %d" % (name, age))    # % operator: Alice is 25
</code></pre>
        </div>

        <h2>Dictionaries: Creating Dictionaries</h2>
        <p>Dictionaries are unordered collections of key-value pairs, created using curly braces <code>{}</code> or <code>dict()</code>.</p>
        <div class="code-box">
            <pre><code class="language-python">person = {"name": "Bob", "age": 30}
scores = dict(math=90, science=85)
print(person)   # Output: {'name': 'Bob', 'age': 30}
print(scores)   # Output: {'math': 90, 'science': 85}
</code></pre>
        </div>

        <h2>Dictionaries: Accessing and Modifying Key-Value Pairs</h2>
        <p>Access values using keys; modify or add key-value pairs directly.</p>
        <div class="code-box">
            <pre><code class="language-python">person = {"name": "Bob", "age": 30}
print(person["name"])      # Output: Bob
person["age"] = 31         # Modify value
person["city"] = "Paris"   # Add new pair
print(person)              # Output: {'name': 'Bob', 'age': 31, 'city': 'Paris'}
</code></pre>
        </div>

        <h2>Dictionaries: Dictionary Methods</h2>
        <p>Dictionary methods like <code>get</code>, <code>keys</code>, <code>values</code>, <code>items</code>, and <code>pop</code> facilitate operations.</p>
        <div class="code-box">
            <pre><code class="language-python">person = {"name": "Bob", "age": 30}
print(person.get("city", "Unknown"))  # Output: Unknown
print(person.keys())                 # Output: dict_keys(['name', 'age'])
print(person.values())               # Output: dict_values(['Bob', 30])
print(person.items())                # Output: dict_items([('name', 'Bob'), ('age', 30)])
person.pop("age")                    # Remove key-value pair
print(person)                        # Output: {'name': 'Bob'}
</code></pre>
        </div>

        <h2>Dictionaries: Immutability for Keys</h2>
        <p>Dictionary keys must be immutable (e.g., strings, numbers, tuples), but values can be any type.</p>
        <div class="code-box">
            <pre><code class="language-python">coords = {(0, 0): "Origin", (1, 2): "Point A"}
print(coords[(0, 0)])  # Output: Origin
# Invalid: lists cannot be keys
# d = {[1, 2]: "Invalid"}  # Error: unhashable type: 'list'
</code></pre>
        </div>

        <h2>Dictionaries: Iteration over Dictionaries</h2>
        <p>Iterate over keys, values, or key-value pairs using loops.</p>
        <div class="code-box">
            <pre><code class="language-python">scores = {"math": 90, "science": 85}
for subject in scores:
    print(subject)  # Output: math
                    #         science
for subject, score in scores.items():
    print(f"{subject}: {score}")
# Output: math: 90
#         science: 85
</code></pre>
        </div>

        <h2>Challenging Questions</h2>
        <div class="question">
            <p><strong>Question 1:</strong> What will be the output of the following code, and why?</p>
            <div class="code-box">
                <pre><code class="language-python">text = "python"
new_text = text[:2] + text[2].upper() + text[3:]
print(new_text)
</code></pre>
            </div>
            <span class="toggle-answer" onclick="toggleAnswer('answer1')">Show Answer</span>
            <div id="answer1" class="answer">
                <p><strong>Answer:</strong> pyThon</p>
                <p><strong>Explanation:</strong> <code>text[:2]</code> takes "py", <code>text[2].upper()</code> converts "t" to "T", and <code>text[3:]</code> takes "hon". Concatenating gives "pyThon".</p>
            </div>
        </div>

        <div class="question">
            <p><strong>Question 2:</strong> Why does this code raise an error, and how can it be fixed to access the value safely?</p>
            <div class="code-box">
                <pre><code class="language-python">d = {"name": "Alice"}
print(d["age"])
</code></pre>
            </div>
            <span class="toggle-answer" onclick="toggleAnswer('answer2')">Show Answer</span>
            <div id="answer2" class="answer">
                <p><strong>Answer:</strong> The code raises a <code>KeyError</code> because the key <code>"age"</code> does not exist.</p>
                <p><strong>Fix:</strong> Use the <code>get</code> method to provide a default value.</p>
                <div class="code-box">
                    <pre><code class="language-python">d = {"name": "Alice"}
print(d.get("age", "Unknown"))  # Output: Unknown
</code></pre>
                </div>
            </div>
        </div>

        <div class="question">
            <p><strong>Question 3:</strong> What will be the output of this code, and why?</p>
            <div class="code-box">
                <pre><code class="language-python">d = {"a": 1, "b": 2}
d2 = d
d2["a"] = 10
print(d)
</code></pre>
            </div>
            <span class="toggle-answer" onclick="toggleAnswer('answer3')">Show Answer</span>
            <div id="answer3" class="answer">
                <p><strong>Answer:</strong> {'a': 10, 'b': 2}</p>
                <p><strong>Explanation:</strong> <code>d2 = d</code> creates a reference to the same dictionary. Modifying <code>d2</code> changes <code>d</code> because they point to the same object. To avoid this, use <code>d2 = d.copy()</code>.</p>
            </div>
        </div>
    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script>
        function toggleAnswer(id) {
            const answer = document.getElementById(id);
            answer.style.display = answer.style.display === 'block' ? 'none' : 'block';
        }
    </script>
</body>
</html>